(function(){my={};my.Class=function(){var e=arguments.length;var d=arguments[e-1];var f=e>1?arguments[0]:null;var j=e>2;var g,c;if(d.constructor===Object){g=function(){}}else{g=d.constructor;delete d.constructor}if(f){c=function(){};c.prototype=f.prototype;g.prototype=new c();g.prototype.constructor=g;g.Super=f;b(g,f,false)}if(j){for(var h=1;h<e-1;h++){b(g.prototype,arguments[h].prototype,false)}}a(g,d);return g};var a=my.extendClass=function(c,e,d){if(e.STATIC){b(c,e.STATIC,d);delete e.STATIC}b(c.prototype,e,d)};var b=function(d,f,c){var e;if(c===false){for(e in f){if(!(e in d)){d[e]=f[e]}}}else{for(e in f){d[e]=f[e]}if(f.toString!==Object.prototype.toString){d.toString=f.toString}}}})();var oo=(function(a){var e={};var b={};var f=this;var d=function(j,h){var i;if(typeof j=="object"&&j.sc&&j.fn){i={fn:j.fn,sc:j.sc}}else{i={fn:j,sc:f}}if(h){i.se=h}return i};b.addListener=function c(h,k,i){if(!e[h]){e[h]=[]}var j=d(k,i);e[h].push(j)};b.removeListener=function g(h,l,j){if(e[h]){var k=d(l,j);var i=e[h].indexOf(k);if(-1!=i){e[h].splice(i,1)}}};b.triggerEvent=function c(j,l,n){if(e[j]){for(var k=0,h=e[j].length;k<h;k++){var m=e[j][k];if(undefined===m.se||m.se===l){m.fn.apply(m.sc,n)}}}};a.Events=b;return a})(oo||{});var oo=(function(a){var c=function c(){};var f=ontouchstart in window?true:false;var e=function e(h,g){if(f){g=g||0;var i=h.touches[g];if(undefined===i){i=h.changedTouches[g]}}else{i=h}return[parseInt(i.pageX,10),parseInt(i.pageY,10)]};c.getPosition=e;c.getPositionX=function b(h,g){return e(h,g)[0]};c.getPositionY=function b(h,g){return e(h,g)[1]};c.getTarget=function d(h,g){return h.touches[g||0].target};if(!f){c.EVENT_START="mousedown";c.EVENT_MOVE="mousemove";c.EVENT_END="mouseup"}else{c.EVENT_START="touchstart";c.EVENT_MOVE="touchmove";c.EVENT_END="touchend"}a.Touch=c;return a})(oo||{});var oo=(function(a){var c={};var b={requestParams:{},dispatch:function e(l){b.parseRoute(l);if(b.requestParams){var k=[b.requestParams.controller.charAt(0).toUpperCase(),b.requestParams.controller.substring(1),"Controller"].join("");var i=[b.requestParams.action,"Action"].join("");var j;if(typeof c[k]!=="function"){if(undefined===c[k]){c[k]=CONTROLLERS[k]}j=c[k];if(typeof j[i]==="function"){return j[i](b.requestParams.params)}}}},parseRoute:function g(j){var i=b.routes;var k=null,l;for(var m in i){var l=i[m];if(l.url==j.substring(0,l.url.length)){k={controller:l.controller,action:l.action};j=j.substring(l.url.length)}}if("/"==j.substring(0,1)){j=j.slice(1)}var n=j.split("/");if(!k){k={controller:n[0],action:n[1]};if(!k.controller){k.controller="index"}else{n.shift()}if(!k.action||k.action==undefined){k.action="index"}else{n.shift()}}k.params={};while(n.length){paramName=n.shift();if(paramName){paramValue=n.shift();if(paramValue!==undefined){k.params[paramName]=paramValue}}}b.requestParams=k;return k},url:function d(i,m){var j=b.routes[i];if(!j){throw Error("route name doesnâ€™t exists")}var k="";for(var l in m){k=[k,"/",l,"/",m[l]].join("")}return[j.url,k].join("")},load:function f(i){window.location.hash=i},init:function h(i){window.addEventListener("hashchange",function(j){b.dispatch(window.location.hash.slice(1))},false);b.dispatch(window.location.hash.slice(1))}};a.Router=b;return a})(oo||{});var oo=(function(g){var f=g.Dom,c=g.Touch,m=g.Events;var i=function i(o){this._data=o;this._snapshot;this._orderByCol;this._grouped;this._filterFn};i.EVT_REFRESH="refresh";var a=i.prototype;a.setData=function n(o){this._data=o;this._takeSnapshot()};a.setFilter=function l(o){this._filterFn=o;this._takeSnapshot()};a.setNoFilter=function b(){this._filterFn=function(){return true};this._takeSnapshot()};a.setOrderCol=function j(o,p){this._orderByCol=o;this._grouped=p;this._takeSnapshot()};a._filter=function h(o){if(o){this._filterFn=o}if(typeof this._filterFn=="function"){this._snapshot=this._data.filter(this._filterFn);return true}return false};a._order=function e(){if(this._orderByCol){var o=[];var p=this;this._snapshot.forEach(function(t,s,v){var q=0,u=o.length;while(q<u){var r=(q+u)>>1;o[r][p._orderByCol]<t[p._orderByCol]?q=r+1:u=r}o.splice(q,0,t)});this._snapshot=o;return true}return false};a._takeSnapshot=function k(){var p=this._filter();var o=this._order();if(p||o){m.triggerEvent(i.EVT_REFRESH,this)}else{this._snapshot=this._data}};a.getData=function d(p){var u=[];if(null==this._snapshot||p){this._takeSnapshot()}u=this._snapshot;if(this._grouped&&this._orderByCol){u=[];var t="",s="";for(var q=0,o=this._snapshot.length;q<o;q++){var r=this._snapshot[q];s=r.nom.substring(0,1);if(t!=s){u.push({id:"separator",cropped:s});t=s}u.push(r)}}return u};a.write=function d(r,p){var q=this;var o=[];this._data.forEach(function(t,s){for(prop in p){if(t[prop]!==p[prop]){return false}}o.push(s);return true});o.forEach(function(s){for(prop in r){q._data[s][prop]=r[prop]}});this._takeSnapshot()};g.Store=i;return g})(oo||{});var oo=(function(oo){var ajaxPool=[];ajaxPool.insert=function insert(elem){if(undefined==this.autoIncrementKey){this.autoIncrementKey=0}this.autoIncrementKey++;ajaxPool[this.autoIncrementKey]=elem;return this.autoIncrementKey};ajaxPool.getNextKey=function getNextKey(){if(undefined==this.autoIncrementKey){this.autoIncrementKey=0}return this.autoIncrementKey+1};Request=function Request(key,isPermanent,defaultParams){this.url;this.method=Ajax.GET;this.defaultParams=defaultParams;this.key=key;this.isPermanent=isPermanent;this.xhr=new XMLHttpRequest();this.isOpen=false;this.isLoading=false;var me=this;this.xhr.addEventListener("readystatechange",function(){if(4==me.xhr.readyState){me.isOpen=me.isLoading=false;if(200==me.xhr.status){me.successCallback(JSON.parse(me.xhr.responseText))}else{me.errorCallback()}if(!isPermanent){me.destroy()}}})};var rp=Request.prototype;rp.parseJson=function(text){dataWrapper="(function () { return %json%; })()";var obj=eval(dataWrapper.replace("%json%",text));return obj};rp.destroy=function(){delete ajaxPool[this.key]};rp.setUrl=function(url){this.url=url};rp.setMethod=function(method){this.method=method};rp.setSuccessCallback=function(callback){this.successCallback=callback};rp.setErrorCallback=function(callback){this.errorCallback=callback};rp.open=function(){try{this.xhr.open(this.method,this.url,true);this.isOpen=true}catch(e){throw e}};rp.send=function(params){if(!this.isOpen){this.open()}var paramsString=this.encodeParams(params||this.defaultParams);if(Ajax.POST==this.method){this.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}this.isLoading=true;this.xhr.send(paramsString)};rp.encodeParams=function encodeParams(params){var tmpArr=[];for(var p in params){tmpArr.push([p,"=",params[p]].join(""))}return tmpArr.join("&")};rp.abort=function(){this.xhr.abort()};var Ajax={POST:"POST",GET:"GET",ajaxCall:function(options){if(undefined==options.url||null==options.url||""==options.url){throw new Error("no URL parameter given")}options.isPermanent=false;var key=this.buildRequest(options);var req=ajaxPool[key];req.send();return key},buildRequest:function(options){if(undefined==options.url||null==options.url||""==options.url){throw new Error("no URL parameter given")}var method=options.method||this.GET;var params=options.params||{};var isPermanent=options.isPermanent||false;var success=options.success||function(){};var error=options.error||function(){};var key=ajaxPool.getNextKey();var req=new Request(key,isPermanent,params);req.setUrl(options.url);req.setMethod(method);req.setSuccessCallback(success);req.setErrorCallback(error);ajaxPool.insert(req);return key},getRequest:function(id){return ajaxPool[id]},getRequestStatus:function(id){return ajaxPool[id].isLoading},abortCall:function(id){if(ajaxPool[id]){ajaxPool[id].abort()}},destroy:function(id){if(ajaxPool[id]){ajaxPool[id].destroy()}},send:function(id,params){if(ajaxPool[id]){ajaxPool[id].send(params||{})}}};oo.Ajax=Ajax;return oo})(oo||{});var oo=(function(oo){var ClassList=function ClassList(obj){this._dom=obj;this._list=obj.className.split(" ")};ClassList.prototype.destroy=function(){this._dom=null;this._list.splice(0);this._list=null};ClassList.prototype._updateClassList=function _updateClassList(){this._dom.className=this._list.join(" ")};ClassList.prototype.removeClass=function removeClass(clsName){if(typeof clsName=="string"){clsName=clsName.split(" ")}var updated=false;var that=this;clsName.forEach(function(element,index,array){var i=that._list.indexOf(element);if(-1!==i){that._list.splice(i,1);updated=true}});if(updated){this._updateClassList()}};ClassList.prototype.addClass=function addClass(clsName){if(typeof clsName=="string"){clsName=clsName.split(" ")}if(!this.hasClass(clsName)){clsName.splice(0,0,0,0);Array.prototype.splice.apply(this._list,clsName);this._updateClassList()}};ClassList.prototype.setClass=function addClass(clsName){if(typeof clsName=="string"){clsName=clsName.split(" ")}this._list=clsName;this._updateClassList()};ClassList.prototype.hasClass=function hasClass(clsName){var i=this._list.indexOf(clsName);if(-1===i){return false}else{return true}};ClassList.prototype.getClasses=function getClasses(clsName){return this._list};var prop={readOnly:[],readWrite:["width","height","zIndex","display","top","right","bottom","left","webkitTransitionProperty","webkitTransitionTimingFunction","webkitTransitionDuration"]};var Dom=function Dom(identifier){this._dom;this._cached={};this._template;this._cacheTpl;if(typeof identifier=="string"){this.setDomObject(document.querySelector(identifier))}else{this.setDomObject(identifier)}this.classList=new ClassList(this._dom)};var p=Dom.prototype;p.destroy=function destroy(){this.classList.destroy();this.classList=null;this._cached.splice(0);this._cached=null;this._dom.removeEventListeners();document.removeElement(this._dom);this._dom=null};for(var i=0,len=prop.readOnly.length;i<len;i++){eval(["p.get",prop.readOnly[i].charAt(0).toUpperCase(),prop.readOnly[i].slice(1)," = function (unit, noCache) { if (noCache || !this._cached[['",prop.readOnly[i],"',(unit ? 'u' : '')].join('')]) { this._cached[['",prop.readOnly[i],"',(unit ? 'u' : '')].join('')] = (unit ? window.getComputedStyle(this._dom).",prop.readOnly[i]," : (window.getComputedStyle(this._dom).",prop.readOnly[i],").replace(/s|ms|px|em|pt|%/, '')); this._cached[['",prop.readOnly[i],"',(unit ? 'u' : '')].join('')] = parseInt(this._cached[['",prop.readOnly[i],"',(unit ? 'u' : '')].join('')], 10) || this._cached[['",prop.readOnly[i],"',(unit ? 'u' : '')].join('')]; } return this._cached[['",prop.readOnly[i],"', (unit ? 'u' : '')].join('')]; };"].join(""))}for(var i=0,len=prop.readWrite.length;i<len;i++){eval(["p.get",prop.readWrite[i].charAt(0).toUpperCase(),prop.readWrite[i].slice(1)," = function (unit, noCache) { if (noCache || !this._cached[['",prop.readWrite[i],"',(unit ? 'u' : '')].join('')]) { this._cached[['",prop.readWrite[i],"',(unit ? 'u' : '')].join('')] = (unit ? window.getComputedStyle(this._dom).",prop.readWrite[i]," : (window.getComputedStyle(this._dom).",prop.readWrite[i],").replace(/s|ms|px|em|pt|%/, '')); this._cached[['",prop.readWrite[i],"',(unit ? 'u' : '')].join('')] = parseInt(this._cached[['",prop.readWrite[i],"',(unit ? 'u' : '')].join('')], 10) || this._cached[['",prop.readWrite[i],"',(unit ? 'u' : '')].join('')]; } return this._cached[['",prop.readWrite[i],"', (unit ? 'u' : '')].join('')]; };"].join(""));eval(["p.set",prop.readWrite[i].charAt(0).toUpperCase(),prop.readWrite[i].slice(1)," = function (val, unit) { if (this._cached['",prop.readWrite[i],"'] || this._cached[['",prop.readWrite[i],"', 'u'].join('')]) { this._cached['",prop.readWrite[i],"'] = this._cached[['",prop.readWrite[i],"', 'u'].join('')] = null; } this._dom.style.",prop.readWrite[i]," = [val, (undefined !== unit ? unit : '')].join(''); return this };"].join(""))}var cssMatrixPattern=/matrix\(1, 0, 0, 1, (-?[0-9.]+), (-?[0-9.]+)\)/;p.getTranslations=function getTranslations(noCache){if(!this._cached.webkitTranslations||noCache){var values=this.getWebkitTransform().match(cssMatrixPattern);if(null===values){values=[0,0,0]}this._cached.webkitTranslations=[parseInt(values[1],10),parseInt(values[2],10)]}return this._cached.webkitTranslations};p.getWebkitTransform=function getWebkitTransform(noCache){if(!this._cached.webkitTransform||noCache){this._cached.webkitTransform=window.getComputedStyle(this._dom).webkitTransform}return this._cached.webkitTransform};p.setWebkitTransform=function setWebkitTransform(value){if(this._cached.webkitTransform||this._cached.webkitTranslations){this._cached.webkitTransform=null;this._cached.webkitTranslations=null}this._dom.style.webkitTransform=value;return this};p.setTranslations=function setTranslations(x,y,unit){unit=unit||"px";this.setWebkitTransform(["translate3d(",x,unit,", ",y,unit,", 0)"].join(""));return this};p.getTranslateX=function getTranslateX(unit,noCache){return(unit?[this.getTranslations(noCache)[0],"px"].join(""):this.getTranslations(noCache)[0])};p.getTranslateY=function getTranslateY(unit,noCache){return(unit?[this.getTranslations(noCache)[1],"px"].join(""):this.getTranslations(noCache)[1])};p.setTranslateX=function setTranslateX(val){var valY=this.getTranslateY();this.setTranslations(val,valY);return this};p.setTranslateY=function setTranslateY(val){var valX=this.getTranslateX();this.setTranslations(valX,val);return this};p._generateId=function _generateId(){msg=[this._dom.tagName,(new Date).getTime(),Math.random().toString()].join("");function rotate_left(n,s){var t4=(n<<s)|(n>>>(32-s));return t4}function lsb_hex(val){var str="";var i;var vh;var vl;for(i=0;i<=6;i+=2){vh=(val>>>(i*4+4))&15;vl=(val>>>(i*4))&15;str+=vh.toString(16)+vl.toString(16)}return str}function cvt_hex(val){var str="";var i;var v;for(i=7;i>=0;i--){v=(val>>>(i*4))&15;str+=v.toString(16)}return str}function Utf8Encode(string){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c)}else{if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128)}else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128)}}}return utftext}var blockstart;var i,j;var W=new Array(80);var H0=1732584193;var H1=4023233417;var H2=2562383102;var H3=271733878;var H4=3285377520;var A,B,C,D,E;var temp;msg=Utf8Encode(msg);var msg_len=msg.length;var word_array=new Array();for(i=0;i<msg_len-3;i+=4){j=msg.charCodeAt(i)<<24|msg.charCodeAt(i+1)<<16|msg.charCodeAt(i+2)<<8|msg.charCodeAt(i+3);word_array.push(j)}switch(msg_len%4){case 0:i=2147483648;break;case 1:i=msg.charCodeAt(msg_len-1)<<24|8388608;break;case 2:i=msg.charCodeAt(msg_len-2)<<24|msg.charCodeAt(msg_len-1)<<16|32768;break;case 3:i=msg.charCodeAt(msg_len-3)<<24|msg.charCodeAt(msg_len-2)<<16|msg.charCodeAt(msg_len-1)<<8|128;break}word_array.push(i);while((word_array.length%16)!=14){word_array.push(0)}word_array.push(msg_len>>>29);word_array.push((msg_len<<3)&4294967295);for(blockstart=0;blockstart<word_array.length;blockstart+=16){for(i=0;i<16;i++){W[i]=word_array[blockstart+i]}for(i=16;i<=79;i++){W[i]=rotate_left(W[i-3]^W[i-8]^W[i-14]^W[i-16],1)}A=H0;B=H1;C=H2;D=H3;E=H4;for(i=0;i<=19;i++){temp=(rotate_left(A,5)+((B&C)|(~B&D))+E+W[i]+1518500249)&4294967295;E=D;D=C;C=rotate_left(B,30);B=A;A=temp}for(i=20;i<=39;i++){temp=(rotate_left(A,5)+(B^C^D)+E+W[i]+1859775393)&4294967295;E=D;D=C;C=rotate_left(B,30);B=A;A=temp}for(i=40;i<=59;i++){temp=(rotate_left(A,5)+((B&C)|(B&D)|(C&D))+E+W[i]+2400959708)&4294967295;E=D;D=C;C=rotate_left(B,30);B=A;A=temp}for(i=60;i<=79;i++){temp=(rotate_left(A,5)+(B^C^D)+E+W[i]+3395469782)&4294967295;E=D;D=C;C=rotate_left(B,30);B=A;A=temp}H0=(H0+A)&4294967295;H1=(H1+B)&4294967295;H2=(H2+C)&4294967295;H3=(H3+D)&4294967295;H4=(H4+E)&4294967295}var temp=cvt_hex(H0)+cvt_hex(H1)+cvt_hex(H2)+cvt_hex(H3)+cvt_hex(H4);return["id-",temp.toLowerCase()].join("")};p.setDomObject=function setDomObject(domNode){this._dom=domNode;if(!this._dom.id){this._dom.id=this._generateId()}return this};p.getDomObject=function getDomObject(){return this._dom};p.find=function find(selector){return new Dom(this._dom.querySelector(selector))};p.findParentByCls=function(cls){var p=this._dom.parentNode;var pattern=new RegExp(cls);while(!pattern.test(p.className)&&p){p=this._dom.parentNode}if(p){return new Dom(p)}else{return false}};p.appendDomNode=function appendDomNode(domNode){this._dom.appendChild(domNode);return this};p.appendChild=function appendChild(node){if(node instanceof Dom){this.appendDomNode(node.getDomObject())}else{this.appendDomNode(node)}return this};p.appendHtml=function appendHtml(html){this._dom.innerHTML=[this._dom.innerHTML,html].join("");return this};p.clear=function clear(){this._dom.innerHTML="";return this};p.stopAnimation=function stopAnimation(){this.setWebkitTransitionDuration(0,"ms");this._dom.removeEventListener("webkitTransitionEnd");return this};p.translateTo=function translateTo(coord,duration,listener,timingFunction){if(typeof coord==="object"){coord.x=undefined!==coord.x?coord.x:this.getTranslateX();coord.y=undefined!==coord.y?coord.y:this.getTranslateY()}var currentTransitionDuration=(this.getWebkitTransitionDuration()*1000);duration=duration||0;this.setWebkitTransitionDuration(duration,"ms");var currentTimingFunction=this.getWebkitTransitionTimingFunction();if(typeof timmingFunction==="string"){this.setWebkitTransitionTimingFunction(timingFunction,"")}var that=this,endListener=function endListener(e){that._dom.removeEventListener("webkitTransitionEnd",this);that.setWebkitTransitionDuration(currentTransitionDuration,"ms");that.setWebkitTransitionTimingFunction(currentTimingFunction,"");if(listener){listener.call(that,e)}};this._dom.addEventListener("webkitTransitionEnd",endListener,false);this.setTranslations(coord.x,coord.y);return this};p.setTemplate=function setTemplate(tpl){this._template=tpl;return this};p.render=function render(data,tpl,resetCache){if(tpl){this.setTemplate(tpl)}if(!this._cacheTpl||resetCache){data=data||{};this._cacheTpl=Mustache.to_html(this._template,data)}this.appendHtml(this._cacheTpl);return this};Dom.createElement=function createElement(tag){return new Dom(document.createElement(tag))};oo.Dom=Dom;return oo})(oo||{});var oo=(function(f){var c=f.Dom,k=f.Touch,n=f.utils,j=f.Events;var o=function(p){p=p||"body";this._root=new c(p);this.classList=this._root.classList;this._panels=[];this._panelsDic=[];this._enabledPanels=[];this._focusedStack=[]};o.ANIM_RTL="rtl";o.ANIM_LTR="ltr";o.NO_ANIM="none";o.ANIM_DURATION=500;var l=o.prototype;l.hasPanel=function b(p){return -1!=this._panelsDic.indexOf(p)?true:false};l.addPanel=function h(t,v,A,z,u){var y=new c.createElement("div");y.getDomObject().id=v;y.classList.addClass("oo-panel");var w=t;var x={};if(typeof t=="object"&&t.template){w=t.template;x=t.data||{}}y.setTemplate(w);this._panels.push(y);this._panelsDic.push(v);if(A){u=z||u;y.render(x);this.showPanel(v,u)}else{if(z){y.render(x)}}};l._identifierToIndex=function e(t){var p=t;if(typeof p=="string"){p=this._panelsDic.indexOf(p)}return p};l._indexToIdentifier=function e(p){return p=this._panelsDic[p]};l._enablePanel=function a(t){var p=this._identifierToIndex(t);this._root.appendChild(this._panels[p]);this._enabledPanels.push(p);j.triggerEvent("onEnablePanel",this._panels[p],[{identifier:this._indexToIdentifier(p),panel:this._panels[p]}])};l.getFocusedPanel=function g(p){index=this._focusedStack[this._focusedStack.length-1];if(p){return undefined!==index?index:false}else{return this.getPanel(index)}};l.getPanel=function s(p){return this._panels[this._identifierToIndex(p)]||false};l.panelIsEnable=function q(p){return(-1!=this._enabledPanels.indexOf(this._identifierToIndex(p))?true:false)};l.removePanel=function i(p){var t=this._identifierToIndex(p);this._panels[t].destroy();this._panels.slice(t,1);this._panelsDic.slice(t,1)};l.showPanel=function r(t,w){var u=this._identifierToIndex(t);w=w||o.ANIM_RTL;var p=0;if(w!==o.NO_ANIM){var v=this._root.getWidth()*(w==o.ANIM_RTL?1:-1);this.getPanel(u).setTranslateX(v);p=o.ANIM_DURATION}if(!this.panelIsEnable(u)){this._enablePanel(u)}this.getPanel(u).translateTo({x:0},p);this._focusedStack.push(u);j.triggerEvent("onShowPanel",this._panels[u],[{identifier:this._indexToIdentifier(u),panel:this._panels[u]}])};l.hidePanel=function d(t,y,v){var u=this._identifierToIndex(t);y=y||o.ANIM_RTL;var p=0;if(y!==o.NO_ANIM){p=o.ANIM_DURATION}var x=this._root.getWidth()*(y==o.ANIM_RTL?-1:1);var w=this;this.getPanel(u).translateTo({x:x},o.ANIM_DURATION,function(){w.getPanel(u).stopAnimation()});if(u==this.getFocusedPanel(true)){this._focusedStack.pop()}j.triggerEvent("onHidePanel",this,[{identifier:this._indexToIdentifier(u),panel:this._panels[u]}])};l.switchPanel=function m(x,p,w){var u,t,v;if(typeof arguments[1]=="string"||1==arguments.length){u=p;v=x;t=this.getFocusedPanel(true)}else{t=x;v=p;u=w}this.showPanel(v,u);if(false!==t){this.hidePanel(t,u)}};f.Viewport=o;return f})(oo||{});var oo=(function(h){var f=h.Dom,e=h.Touch;Events=h.Events;var g=function g(m){this._dom=new f(m);this._active=false;this._initEvents()};g.EVT_TOUCH="touch";g.EVT_RELEASE="release";var d=g.prototype;d.getDom=function l(){return this._dom};d._initEvents=function a(){var m=this;this._dom.getDomObject().addEventListener(e.EVENT_START,function(n){return m._onTouch.call(m,n)});this._dom.getDomObject().addEventListener(e.EVENT_END,function(n){return m._onRelease.call(m,n)})};d._onTouch=function c(m){if(!this.isActive()){this.setActive(true)}Events.triggerEvent(g.EVT_TOUCH,this,[this,m])};d._onRelease=function j(m){this.setActive(false);Events.triggerEvent(g.EVT_RELEASE,this,[this,m])};d.toogleActive=function i(){this.setActive(!this._active)};d.isActive=function k(){return this._active};d.setActive=function b(m){if(m||undefined===m){this._dom.classList.addClass("active");this._active=true}else{this._dom.classList.removeClass("active");this._active=false}};h.Button=g;return h})(oo||{});var oo=(function(a){var e=a.Dom,d=a.Touch;Events=a.Events,Button=a.Button;var c=function c(j,m){this._buttons=[];m=m||c.TYPE_RADIO;var l=document.querySelectorAll(j);var n=this;for(var k=0,h=l.length;k<h;k++){btn=new Button(l[k]);btn._onRelease=function(i){b.call(btn,i,n)};this._buttons.push(btn);if(m==c.TYPE_RADIO){var n=this;Events.addListener(Button.EVT_TOUCH,function(i,o){n.updateActive.apply(n,[i,o])},btn)}}};c.TYPE_RADIO="radio";c.TYPE_CHECKBOX="checkbox";var g=c.prototype;g.updateActive=function f(l,j){for(var k=0,h=this._buttons.length;k<h;k++){if(this._buttons[k]!==l){this._buttons[k].setActive(false)}}};var b=function b(i,h){if(this.isActive()){this.setActive(false)}Events.triggerEvent("release",h,[i,this])};a.ButtonGroup=c;return a})(oo||{});var oo=(function(h){var f=h.Dom,e=h.Touch,j=h.utils,n=h.Events,i=h.Store;var m=function m(q,r,p){this._data;this._touchedItem;this._store=q;var s=this;n.addListener(i.EVT_REFRESH,function(){s._refreshList.apply(s,arguments)},this._store);this.setTemplate(r||'<li class="oo-list-item item-{{id}}">{{.}}</li>');if(p){this._dom=new f(p)}else{this._dom=f.creataElement("ul")}this._initEvents();this._refreshList()};m.EVT_RENDER="render";m.EVT_ITEM_PRESSED="item-pressed";m.EVT_ITEM_RELEASED="item-released";var c=m.prototype;c._initEvents=function(){function q(v){var s=new f(v);var w;if(s.classList.hasClass("oo-list-item")){w=s.getDomObject().className.match(/item-([0-9]*)/)[1]}else{var u=s.findParentByCls("oo-list-item");if(u){s=u;w=s.getDomObject().className.match(/item-([0-9]*)/)[1]}}if(w){return{id:w,dom:s}}return false}var r=this;var p;this._dom.getDomObject().addEventListener(e.EVENT_START,function(s){this._touchedItem=s.target;p=q(s.target);if(false!==p){p.dom.classList.addClass("active");n.triggerEvent(m.EVT_ITEM_PRESSED,r,[p.dom,p.id])}},false);this._dom.getDomObject().addEventListener(e.EVENT_MOVE,function(s){if(this._touchedItem){this._touchedItem=null;r._dom.find(".active").classList.removeClass("active")}},false);this._dom.getDomObject().addEventListener(e.EVENT_END,function(s){p=q(s.target);p.dom.classList.removeClass("active");if(false!==p&&this._touchedItem==s.target){n.triggerEvent(m.EVT_ITEM_RELEASED,r,[p.dom,p.id])}},false)};c.getDom=function o(){return this._dom};c._refreshList=function g(){this._fetchStoreData();this._dom.clear();this._dom.render(this._data,this._template,true);n.triggerEvent(m.EVT_RENDER,this)};c._prepareData=function k(p){return{items:p}};c.setData=function l(p){this._data=this._prepareData(p)};c._fetchStoreData=function a(){this.setData(this._store.getData())};c.setTemplate=function d(p){this._template=this._prepareTpl(p)};c._prepareTpl=function b(p){return["{{#items}}",p,"{{/items}}"].join("")};h.List=m;return h})(oo||{});var oo=(function(i){var g=i.Dom,e=i.Touch,o=i.utils;var a=function h(q,p,r){this._wrapper=new g(q);this._content=this._wrapper.find(".content");this._orientation=p||a.VERTICAL;this._displayScroll=r||a.BOTH;this._vscrollbarWrapper;this._vscrollbar;this._hscrollbarWrapper;this._hscrollbar;this._maxvScrollTranslate;this._maxhScrollTranslate;this._buildScrollbars();this.initSizes();this._startY=0;this._startX=0;this._touchStartY;this._touchInterY;this._touchStartX;this._touchInterX;this._startTime;this._render()};a.VERTICAL="v";a.HORIZONTAL="h";a.BOTH="b";a.NONE="none";var b=a.prototype;b.initSizes=function k(){this._content.getWidth(false,true);this._content.getHeight(false,true);this._content.translateTo({x:0,y:0},0);this._startY=0;this._startX=0;if(a.VERTICAL==this._orientation||a.BOTH==this._orientation){this._vscrollbar.setDisplay("");this._maxvTranslate=(this._wrapper.getHeight()-this._content.getHeight());if(this._maxvTranslate>0){this._maxvTranslate=0;this._vscrollbar.setDisplay("none")}this._determineScrollbarSize(a.VERTICAL);this._vscrollbar.translateTo({y:0},0)}if(a.HORIZONTAL==this._orientation||a.BOTH==this._orientation){this._hscrollbar.setDisplay("");this._maxhTranslate=(this._content.getWidth()-this._wrapper.getWidth());if(this._maxhTranslate<0){this._maxhTranslate=0;this._hscrollbar.setDisplay("none")}this._determineScrollbarSize(a.HORIZONTAL);this._hscrollbar.translateTo({x:0},0)}};b._buildScrollbars=function d(){if(a.VERTICAL==this._orientation||a.BOTH==this._orientation){this._vscrollbarWrapper=g.createElement("div");this._vscrollbar=g.createElement("div");this._vscrollbar.classList.addClass("oo-scrollbar");this._vscrollbar.setWidth(100,"%");this._vscrollbarWrapper.classList.addClass("oo-scroll-wrapper");this._vscrollbarWrapper.classList.addClass("oo-vscroll-wrapper");this._vscrollbarWrapper.appendChild(this._vscrollbar)}if(a.HORIZONTAL==this._orientation||a.BOTH==this._orientation){this._hscrollbarWrapper=g.createElement("div");this._hscrollbar=g.createElement("div");this._hscrollbar.classList.addClass("oo-scrollbar");this._hscrollbar.setHeight(100,"%");this._hscrollbarWrapper.classList.addClass("oo-scroll-wrapper");this._hscrollbarWrapper.classList.addClass("oo-hscroll-wrapper");this._hscrollbarWrapper.appendChild(this._hscrollbar)}};b._renderScrollbars=function m(){if((this._displayScroll==a.VERTICAL||this._displayScroll==a.BOTH)&&(a.VERTICAL==this._orientation||a.BOTH==this._orientation)){this._wrapper.appendChild(this._vscrollbarWrapper)}if((this._displayScroll==a.HORIZONTAL||this._displayScroll==a.BOTH)&&(a.HORIZONTAL==this._orientation||a.BOTH==this._orientation)){this._wrapper.appendChild(this._hscrollbarWrapper)}};b._determineScrollbarSize=function c(p){var r=(a.VERTICAL==p?"Height":"Width");var q=this._content[["get",r].join("")]()/this._wrapper[["get",r].join("")]();var s=parseInt(this._wrapper[["get",r].join("")]()/q,10);this[["_",p,"scrollbar"].join("")][["set",r].join("")](s);this[["_max",p,"ScrollTranslate"].join("")]=this._wrapper[["get",r].join("")]()-s};b._determineScrollbarTranslate=function l(q,p){var r=this[["_max",p,"Translate"].join("")]/q;return(this[["_max",p,"ScrollTranslate"].join("")]/r)*(a.HORIZONTAL==p?-1:1)};b._initListeners=function f(){var q=this._content.getDomObject();var p=this;var r;q.addEventListener(e.EVENT_START,function(s){r=0;if(a.VERTICAL==this._orientation||a.BOTH==this._orientation){p._vscrollbar.stopAnimation()}if(a.HORIZONTAL==this._orientation||a.BOTH==this._orientation){p._hscrollbar.stopAnimation()}p._content.stopAnimation();p._touchStartY=p._touchInterY=e.getPositionY(s);p._touchStartX=p._touchInterX=e.getPositionX(s);p._startTime=(new Date).getTime();p._startY=p._content.getTranslateY(false,true);p._startX=p._content.getTranslateX(false,true)},false);q.addEventListener(e.EVENT_MOVE,function(u){var t,s;if(a.VERTICAL==p._orientation||a.BOTH==p._orientation){t=e.getPositionY(u)-p._touchStartY;s=p._startY+t;p._content.setTranslateY(s);p._vscrollbar.setTranslateY(p._determineScrollbarTranslate(s,a.VERTICAL))}if(a.HORIZONTAL==p._orientation||a.BOTH==p._orientation){t=e.getPositionX(u)-p._touchStartX;s=p._startX+t;p._content.setTranslateX(s);p._hscrollbar.setTranslateX(p._determineScrollbarTranslate(s,a.HORIZONTAL))}r++;u.preventDefault()},false);q.addEventListener(e.EVENT_END,function(w){var t=(new Date).getTime();var v=t-p._startTime;var s=0.0006;var u=500;function x(y){var A=p._content[["getTranslate",(a.VERTICAL==y?"Y":"X")].join("")](false,true);var E=null;var z=e[["getPosition",(a.VERTICAL==y?"Y":"X")].join("")](w);var D=z-p[["_touchInter",(a.VERTICAL==y?"Y":"X")].join("")];var C=Math.abs(D)/v;var B=((C*C)/(2*s))*(D<0?-1:1);if((a.VERTICAL==y&&A>0)||(a.HORIZONTAL==y&&A>0)){E=0}else{if((a.VERTICAL==y&&A<p[["_max",y,"Translate"].join("")])||(a.HORIZONTAL==y&&Math.abs(A)>p[["_max",y,"Translate"].join("")])){E=p[["_max",y,"Translate"].join("")]*(a.HORIZONTAL==y?-1:1)}else{E=p._content[["getTranslate",(a.VERTICAL==y?"Y":"X")].join("")](false,true)+B;E=parseInt((E>0?0:(E<p[["_max",y,"Translate"].join("")]?p[["_max",y,"Translate"].join("")]:E)),10)*(a.HORIZONTAL==y?-1:1);u=C/s}}if(E!==null){var F={};F[(a.VERTICAL==y?"y":"x")]=E;p._content.translateTo(F,u,function(){p._content.stopAnimation()});F[(a.VERTICAL==y?"y":"x")]=p._determineScrollbarTranslate(E,y);p[["_",y,"scrollbar"].join("")].translateTo(F,u,function(){p[["_",y,"scrollbar"].join("")].stopAnimation()},"ease-out");p[["_start",(a.VERTICAL==y?"Y":"X")].join("")]=E}}if(a.VERTICAL==p._orientation||a.BOTH==p._orientation){x(a.VERTICAL)}if(a.HORIZONTAL==p._orientation||a.BOTH==p._orientation){x(a.HORIZONTAL)}},false)};b._render=function j(){this._wrapper.classList.addClass("oo-list-wrapper");this._initListeners();this._renderScrollbars()};b.destroy=function n(){this._wrapper.destroy();this._content.getDomObject().removeEventListener(e.EVENT_START);this._content.getDomObject().removeEventListener(e.EVENT_MOVE);this._content.getDomObject().removeEventListener(e.EVENT_END);this._content.destroy();this._vscrollbarWrapper.destroy();this._vscrollbar.destroy();this._hscrollbarWrapper.destroy();this._hscrollbar.destroy()};i.Scroll=a;return i})(oo||{});var oo=(function(h){var f=h.Dom,c=h.Touch,j=h.utils;var i=function i(l,m){this._startX=0;this._startTranslate=0;this._panelContainer=new f(l);this._transitionDuration=200;var n=this._panelContainer.getDomObject();this._panelWidth=(new f(n.firstElementChild)).getWidth();this._nbPanel=document.querySelectorAll([l," > *"].join("")).length;this._activePanel=0;this._displayPager=(m?true:false);this._pager;this._buildPager();this._moved=false;this.render()};var b=i.prototype;b._buildPager=function g(){if(this._displayPager){this._pager=f.createElement("div");this._pager.classList.addClass("carousel-pager");this._pager.setTemplate('{{#bullet}}<i class="dot"></i>{{/bullet}}');var m=[];for(var l=0;l<this._nbPanel;l++){m.push(l)}this._pager.render({bullet:m})}this._updatePager()};b._updatePager=function e(){var l=this._pager.getDomObject().querySelector(".dot.active");if(l){l.className=l.className.replace(/ *active/,"")}this._pager.getDomObject().querySelector([".dot:nth-child(",(this._activePanel+1),")"].join("")).className+=" active"};b.hasMoved=function k(){return this._moved};b._initListeners=function d(){var m=this._panelContainer.getDomObject();var l=this;var n;m.addEventListener(c.EVENT_START,function(o){l._startX=c.getPositionX(o);l._startTranslate=l._panelContainer.getTranslateX();n=0},false);m.addEventListener(c.EVENT_MOVE,function(p){var o=c.getPositionX(p)-l._startX;l._panelContainer.translateTo({x:(l._startTranslate+o)},0);l._moved=true},false);m.addEventListener(c.EVENT_END,function(){l._moved=false;var r=l._panelContainer.getTranslateX();if(r<0){r=Math.abs(r);var q=(l._panelWidth/2),o=(l._panelWidth*(l._nbPanel-1)-q);for(var p=q;p<=o;p=p+l._panelWidth){if(r<p){break}}var s;if(r>o){s=o+q}else{s=p-q}s*=-1}else{s=0}l._activePanel=Math.abs(s/l._panelWidth);l._panelContainer.translateTo({x:s},l._transitionDuration);l._updatePager();l._startTranslate=s},false)};b.render=function a(){if(this._pager){(new f(this._panelContainer.getDomObject().parentNode)).appendChild(this._pager)}this._initListeners()};h.Carousel=i;return h})(oo||{});